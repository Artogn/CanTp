{
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "main function period": {
        "type": "integer",
        "minimum": 1
      },
      "channels": {
        "type": "array",
        "minItems": 1,
        "items": [
          {
            "type": "object",
            "properties": {
              "channel mode": {
                "$ref": "#/definitions/channel_mode"
              },
              "receivers": {
                "type": "array",
                "items": {
                  "oneOf": [
                    {
                      "allOf": [
                        {
                          "$ref": "#/definitions/receiver_common"
                        },
                        {
                          "properties": {
                            "addressing format": {
                              "type": "string",
                              "enum": [
                                "CANTP_STANDARD",
                                "CANTP_NORMALFIXED"
                              ]
                            }
                          }
                        }
                      ]
                    },
                    {
                      "allOf": [
                        {
                          "$ref": "#/definitions/receiver_common"
                        },
                        {
                          "properties": {
                            "addressing format": {
                              "type": "string",
                              "enum": [
                                "CANTP_MIXED",
                                "CANTP_MIXED29BIT"
                              ]
                            },
                            "address extension": {
                              "$ref": "#/definitions/network_address_extension"
                            }
                          }
                        }
                      ]
                    },
                    {
                      "allOf": [
                        {
                          "$ref": "#/definitions/receiver_common"
                        },
                        {
                          "properties": {
                            "addressing format": {
                              "type": "string",
                              "enum": [
                                "CANTP_EXTENDED"
                              ]
                            },
                            "target address": {
                              "$ref": "#/definitions/network_address_extension"
                            }
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              "transmitters": {
                "type": "array",
                "items": {
                  "oneOf": [
                    {
                      "allOf": [
                        {
                          "$ref": "#/definitions/transmitter_common"
                        },
                        {
                          "properties": {
                            "addressing format": {
                              "type": "string",
                              "enum": [
                                "CANTP_STANDARD",
                                "CANTP_NORMALFIXED"
                              ]
                            }
                          }
                        }
                      ]
                    },
                    {
                      "allOf": [
                        {
                          "$ref": "#/definitions/transmitter_common"
                        },
                        {
                          "properties": {
                            "addressing format": {
                              "type": "string",
                              "enum": [
                                "CANTP_MIXED",
                                "CANTP_MIXED29BIT"
                              ]
                            },
                            "address extension": {
                              "$ref": "#/definitions/network_address_extension"
                            }
                          }
                        }
                      ]
                    },
                    {
                      "allOf": [
                        {
                          "$ref": "#/definitions/transmitter_common"
                        },
                        {
                          "properties": {
                            "addressing format": {
                              "type": "string",
                              "enum": [
                                "CANTP_EXTENDED"
                              ]
                            },
                            "target address": {
                              "$ref": "#/definitions/network_address_extension"
                            }
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            }
          }
        ]
      }
    }
  },
  "definitions": {
    "channel_mode": {
      "type": "string",
      "enum": [
        "CANTP_MODE_HALF_DUPLEX",
        "CANTP_MODE_FULL_DUPLEX"
      ]
    },
    "communication_type": {
      "type": "string",
      "enum": [
        "CANTP_FUNCTIONAL",
        "CANTP_PHYSICAL"
      ]
    },
    "receiver_common": {
      "properties": {
        "comment": {
          "type": "string"
        },
        "network service data unit identifier": {
          "$ref": "#/definitions/network_address_extension"
        },
        "N_Ar timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Br timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Cr timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "block size": {
          "type": "integer",
          "minimum": 0
        },
        "minimum separation time": {
          "type": "integer",
          "minimum": 0
        },
        "wait for transmission maximum": {
          "type": "integer",
          "minimum": 0
        },
        "network service data unit reference": {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        "enable padding": {
          "type": "boolean"
        },
        "communication type": {
          "$ref": "#/definitions/communication_type"
        }
      },
      "required": [
        "network service data unit reference",
        "N_Br timeout",
        "block size",
        "minimum separation time",
        "wait for transmission maximum"
      ]
    },
    "transmitter_common": {
      "properties": {
        "comment": {
          "type": "string"
        },
        "network service data unit identifier": {
          "$ref": "#/definitions/network_address_extension"
        },
        "N_As timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Bs timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Cs timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "network service data unit reference": {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        "enable transmit cancellation": {
          "type": "boolean"
        },
        "enable padding": {
          "type": "boolean"
        },
        "communication type": {
          "$ref": "#/definitions/communication_type"
        }
      },
      "required": [
        "network service data unit reference",
        "N_Cs timeout"
      ]
    },
    "network_address_extension": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255
    },
    "network_layer_timeout": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255
    }
  }
}
